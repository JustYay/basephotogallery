# Галерея фотографий

## Описание
Скрипт создает простую галерею для отображения фотографий и директорий на веб-сервере. Основной функционал включает в себя:

1. Регистронезависимый поиск директорий и файлов
2. Навигацию по каталогам с помощью хлебных крошек
3. Предпросмотр изображений
4. Обработку ошибок 403 (Forbidden) и 404 (Not Found)
5. Показ специального изображения (not_found.jpg) при 404 ошибке

## Основной функционал

### Отображение каталогов и файлов
- Показывает содержимое директорий в виде карточек с папками и файлами
- Поддерживает вложенные директории
- Отображает размер файлов
- Показывает превью для изображений

### Обработка регистра
- При обращении к директории с неправильным регистром (например, /PHOTOS/ вместо /photos/) автоматически перенаправляет на правильный URL
- При запросе файла с неправильным регистром находит файл и перенаправляет на него

### Обработка ошибок
- При попытке доступа к несуществующему файлу или директории показывает изображение not_found.jpg
- Обрабатывает ошибки 403 Forbidden и обеспечивает доступ к директориям
- Логирует все запросы для отладки

## Файл .htaccess
Содержимое файла .htaccess:

```
ErrorDocument 403 /index.php
ErrorDocument 404 /index.php

# Разрешаем доступ к каталогам через наш скрипт
Options -Indexes +FollowSymLinks
DirectoryIndex index.php

# Основные настройки mod_rewrite
RewriteEngine On
RewriteBase /

# Разрешаем доступ всем
<FilesMatch "^(index\.php)$">
    Order Allow,Deny
    Allow from all
</FilesMatch>

# Обработка 403/404 ошибок через index.php
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule . /index.php [L]
```

### Пояснения к .htaccess
- `ErrorDocument 403/404 /index.php` - перенаправляет ошибки 403 и 404 на обработку в index.php
- `Options -Indexes` - отключает стандартное отображение директорий Apache
- `+FollowSymLinks` - разрешает следовать по символическим ссылкам
- `DirectoryIndex index.php` - устанавливает index.php как индексный файл
- Правила RewriteRule перенаправляют все запросы к несуществующим файлам и директориям на index.php

## Установка
1. Разместите файлы index.php и .htaccess в корневой директории вашего веб-сервера
2. Создайте файл not_found.jpg для отображения при 404 ошибках
3. Убедитесь, что mod_rewrite включен на вашем сервере

## Требования
- PHP 5.4 или выше
- Apache с включенным mod_rewrite
- Права на чтение директорий 
